<!--The content below is only a placeholder and can be replaced.-->

<h3 class="first">老年人中医药健康管理服务记录表</h3>
<p-table [value]="questions">
  <ng-template pTemplate="header">
    <tr>
      <th>序号</th>
      <th>问题</th>
      <th>得分</th>
      <th>固定行(回填时候使用)</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item>
    <tr>
      <td>{{item.id}}</td>
      <td>{{item.question}}</td>
      <td>
        <p-dropdown [options]="scores"
          [(ngModel)]="item.score"
          placeholder="请选择分数"
          optionLabel="label"
          [showClear]="true"
        ></p-dropdown>
      </td>
      <td>
        <p-checkbox value="1" label="固定" [(ngModel)]="item.isFixed" inputId="ny"></p-checkbox>
      </td>
    </tr>
  </ng-template>
</p-table>

<h3 class="first">体质结果</h3>
<p-table [value]="bodyTypes">
  <ng-template pTemplate="header">
    <tr>
      <th>体质类型</th>
      <th>得分</th>
      <th>结果</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item>
    <tr>
      <td>{{item.label}}</td>
      <td>{{item.score}}</td>
      <td>
        <p-dropdown [options]="typeResults"
                    [(ngModel)]="item.result"
                    placeholder="请选择结果"
                    optionLabel="label"
        ></p-dropdown>
      </td>
    </tr>
  </ng-template>
</p-table>
<button pButton type="button" label="调查结果" class="ui-button-raised" (click)="getResult()" style="margin: 10px"></button>
<button pButton type="button" label="自动回填调查分数" class="ui-button-raised ui-button-secondary" (click)="backFillData()" style="margin: 10px"></button>


<p-dialog header="提示" [(visible)]="display" [modal]="true" [responsive]="true" [style]="{width: '350px', minWidth: '200px'}" [minY]="70"
          [maximizable]="true" [baseZIndex]="10000">
  <p>出现错误：{{errMsgs}}</p>
  <p-footer>
    <button type="button" pButton icon="pi pi-check" (click)="display=false" label="Yes"></button>
    <button type="button" pButton icon="pi pi-close" (click)="display=false" label="No" class="ui-button-secondary"></button>
  </p-footer>
</p-dialog>
